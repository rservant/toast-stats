# Production Environment Cache Configuration
# This file contains production-ready cache configuration examples

# Server Configuration
PORT=5001
NODE_ENV=production

# Toastmasters Dashboard URL
TOASTMASTERS_DASHBOARD_URL=https://dashboard.toastmasters.org

# JWT Configuration (CHANGE THESE IN PRODUCTION!)
JWT_SECRET=CHANGE_THIS_TO_A_SECURE_RANDOM_STRING_IN_PRODUCTION
JWT_EXPIRES_IN=1h

# Cache Configuration
# Use absolute path for production deployments
CACHE_DIR=/var/cache/toastmasters
CACHE_TTL=900

# Rate Limiting (production settings)
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100

# CORS Configuration (restrict to your domain)
CORS_ORIGIN=https://yourdomain.com

# Production Security Settings
NODE_ENV=production
DEBUG=false
LOG_LEVEL=info

# Production Cache Directory Options:
# 
# Option 1: System cache directory (recommended)
# CACHE_DIR=/var/cache/toastmasters
# 
# Option 2: Application-specific directory
# CACHE_DIR=/opt/toastmasters/cache
# 
# Option 3: Mounted volume (Docker/Kubernetes)
# CACHE_DIR=/app/cache
# 
# Option 4: Network storage (for multi-node deployments)
# CACHE_DIR=/mnt/shared/toastmasters-cache

# Production Deployment Notes:
# 
# 1. Directory Permissions:
#    sudo mkdir -p /var/cache/toastmasters
#    sudo chown app:app /var/cache/toastmasters
#    sudo chmod 755 /var/cache/toastmasters
# 
# 2. Security Considerations:
#    - Use absolute paths to prevent path traversal
#    - Ensure proper file permissions (755 for directories, 644 for files)
#    - Regular cleanup of old cache files
#    - Monitor disk usage
# 
# 3. Backup Strategy:
#    - Cache data can be regenerated, but backup for faster recovery
#    - Include cache directory in backup scripts if needed
# 
# 4. Monitoring:
#    - Monitor cache directory size: du -sh /var/cache/toastmasters
#    - Set up alerts for disk usage
#    - Log cache hit/miss rates for performance tuning

# Example systemd service configuration:
# [Unit]
# Description=Toastmasters District Visualizer
# After=network.target
# 
# [Service]
# Type=simple
# User=app
# WorkingDirectory=/opt/toastmasters
# Environment=NODE_ENV=production
# Environment=CACHE_DIR=/var/cache/toastmasters
# ExecStart=/usr/bin/node dist/index.js
# Restart=always
# RestartSec=10
# 
# [Install]
# WantedBy=multi-user.target